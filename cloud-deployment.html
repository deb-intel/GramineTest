<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cloud Deployment &mdash; Gramine  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/gramine.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configure Gramine" href="configuration-index.html" />
    <link rel="prev" title="Intel Confidential Compute images" href="curated-installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/gramine_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Installation-index.html">Install Gramine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Installation-index.html#custom-installation">Custom installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation-index.html#pre-prepared-docker-container">Pre-prepared Docker container</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation-index.html#gramine-shielded-container">Gramine Shielded Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="Installation-index.html#intel-confidential-compute-images-with-gramine">Intel Confidential Compute images with Gramine</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="Installation-index.html#cloud-deployment">Cloud deployment</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="quickstart.html">Custom installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker-image-installation.html">Gramine docker image</a></li>
<li class="toctree-l3"><a class="reference internal" href="gsc-installation.html">Gramine Shielded Containers</a></li>
<li class="toctree-l3"><a class="reference internal" href="curated-installation.html">Intel Confidential Compute images</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Cloud Deployment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#azure-confidential-computing-vms">Azure confidential computing VMs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration-index.html">Configure Gramine</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts-index.html">Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devel/packaging.html">Packaging and distributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="libos/libos-init.html">LibOS documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/new-syscall.html">Implementing new system call</a></li>
<li class="toctree-l1"><a class="reference internal" href="pal/host-abi.html">PAL host ABI</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/api.html">Python API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devel/onboarding.html">Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/contributing.html">Contributing to Gramine</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/contributing.html#management-team">Management Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="gramine-users.html">Users of Gramine</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/DCO/index.html">Developer Certificate of Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/howto-doc.html">How to write documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/coding-style.html">Coding style guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/setup.html">Development setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel/debugging.html">Debugging Gramine with GDB</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="`Index &lt;https://deb-intel.github.io/GramineTest/index.html&gt;`__">`Index &lt;https://deb-intel.github.io/GramineTest/index.html&gt;`__</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Gramine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="Installation-index.html">Install Gramine</a> &raquo;</li>
      <li>Cloud Deployment</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cloud-deployment.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">


           <div itemprop="articleBody">
             
  <section id="cloud-deployment">
<h1>Cloud Deployment<a class="headerlink" href="#cloud-deployment" title="Permalink to this headline"></a></h1>
<p>Gramine without Intel SGX can be deployed on arbitrary cloud VMs. Please see
our <a class="reference internal" href="quickstart.html"><span class="doc">Custom installation</span></a> guide for the details.</p>
<p>To deploy Gramine with Intel SGX, the cloud VM has to support Intel SGX. Please
see the installation and usage guide for each cloud VM offering individually
below (currently only for Microsoft Azure).</p>
<section id="azure-confidential-computing-vms">
<h2>Azure confidential computing VMs<a class="headerlink" href="#azure-confidential-computing-vms" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://azure.microsoft.com/en-us/solutions/confidential-compute/">Azure confidential computing services</a> are
available and provide access to VMs with Intel SGX enabled in <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/dcv2-series">DCsv2</a> and
<a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/dcv3-series">DCsv3</a>
VM instances. The description below uses a <em>DCsv3 VM</em> running Ubuntu
18.04/20.04.</p>
<section id="install-gramine">
<h3>Install Gramine<a class="headerlink" href="#install-gramine" title="Permalink to this headline"></a></h3>
<p>Add a Gramine repository:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo curl -fsSLo /usr/share/keyrings/gramine-keyring.gpg https://packages.gramineproject.io/gramine-keyring.gpg
<span class="nb">echo</span> <span class="s1">&#39;deb [arch=amd64 signed-by=/usr/share/keyrings/gramine-keyring.gpg] https://packages.gramineproject.io/ stable main&#39;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/gramine.list
</pre></div>
</div>
<p>Add Intel SGX repository:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>curl -fsSL https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key <span class="p">|</span> sudo apt-key add -
<span class="nb">echo</span> <span class="s1">&#39;deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu focal main&#39;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/intel-sgx.list
<span class="c1"># (if you&#39;re on Ubuntu 18.04, write &quot;bionic&quot; instead of &quot;focal&quot; above)</span>
</pre></div>
</div>
<p>Install Gramine (DCAP driver version) on Ubuntu 18.04:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt-get update
sudo apt-get install gramine-dcap
</pre></div>
</div>
<p>Install Gramine (in-kernel driver version) on Ubuntu 20.04:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt-get install gramine
</pre></div>
</div>
</section>
<section id="prepare-a-signing-key">
<h3>Prepare a signing key<a class="headerlink" href="#prepare-a-signing-key" title="Permalink to this headline"></a></h3>
<p>Only if you haven’t already:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>gramine-sgx-gen-private-key
</pre></div>
</div>
</section>
<section id="run-sample-application">
<h3>Run sample application<a class="headerlink" href="#run-sample-application" title="Permalink to this headline"></a></h3>
<p>Core Gramine repository contains several sample applications. Thus, to test
Gramine installation, we clone the Gramine repo and use the HelloWorld example
from there:</p>
<pre class="literal-block">git clone --depth 1  https://github.com/gramineproject/gramine.git</pre>
<p>To build the HelloWorld application, we need the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler and the
<code class="docutils literal notranslate"><span class="pre">make</span></code> build system:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo apt-get install gcc make
</pre></div>
</div>
<p>Run the HelloWorld example with SGX:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> gramine/CI-Examples/helloworld
make <span class="nv">SGX</span><span class="o">=</span><span class="m">1</span>
gramine-sgx helloworld
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>

          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="curated-installation.html" class="btn btn-neutral float-left" title="Intel Confidential Compute images" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration-index.html" class="btn btn-neutral float-right" title="Configure Gramine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Gramine Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>